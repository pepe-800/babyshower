<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InvitaciÃ³n Baby Shower</title>
    <!-- Google Fonts: Pacifico for decorative titles and Open Sans for readable body text -->
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Play/Pause icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* General Body Styles */
        body {
            margin: 0;
            font-family: 'Open Sans', sans-serif;
            background: linear-gradient(to bottom right, #f0f8ff, #e0f2f7); /* Soft baby blue gradient for a gentle feel */
            color: #333;
            height: 100vh; /* Full viewport height */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* Prevent scrolling, especially important for the modal */
            position: relative; /* Needed for absolute positioning of confetti */
        }

        /* Welcome Modal Styles */
        .welcome-modal {
            position: fixed; /* Covers the entire screen */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85); /* Darker, slightly opaque overlay */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000; /* Ensures it's on top of everything */
            color: #fff;
            font-family: 'Pacifico', cursive;
            font-size: 2.5rem; /* Large, friendly text */
            text-align: center;
            opacity: 1;
            visibility: visible;
            transition: opacity 0.6s ease-out, visibility 0.6s ease-out; /* Smooth transition for hiding */
        }

        .welcome-modal.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none; /* Prevents interaction once hidden */
        }

        .modal-content {
            padding: 2rem;
            animation: fadeInScale 1s ease-out; /* Animation for the modal content */
        }

        .welcome-modal h2 {
            font-size: 1.8em; /* Slightly smaller than main welcome text */
            margin-bottom: 1.5rem;
            color: #FFDAB9; /* Soft peach accent */
        }

        .welcome-modal button {
            margin-top: 2rem;
            padding: 1rem 2.5rem;
            font-size: 1.4rem;
            background-color: #87CEEB; /* Light blue button */
            border: none;
            border-radius: 50px; /* Pill-shaped button */
            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25); /* Subtle shadow for depth */
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            outline: none; /* Remove outline on focus */
        }

        .welcome-modal button:hover {
            background-color: #6A5ACD; /* Deeper slate blue on hover */
            transform: translateY(-3px); /* Lift effect */
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.35); /* Enhanced shadow on hover */
        }

        .welcome-modal button:active {
            transform: translateY(0); /* Press effect */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n        }

        /* Main Invitation Content Styles */
        .invitation-container {
            max-width: 768px; /* Standard max-width for content */
            width: 90%; /* Responsive width */
            background-color: #fff;
            border-radius: 20px; /* Rounded corners for a friendly look */
            box-shadow: 0 15px 45px rgba(0, 0, 0, 0.18); /* More prominent shadow */
            padding: 40px;
            text-align: center;
            opacity: 0;
            visibility: hidden;
            transform: translateY(30px); /* Starts slightly off-screen */
            transition: opacity 1s ease-out, transform 1s ease-out, visibility 1s ease-out; /* Smooth entrance */
            position: relative; /* For confetti positioning inside */
            overflow: hidden; /* Ensures confetti stays within bounds */
        }

        .invitation-container.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0); /* Moves into view */
        }

        h1 {
            font-family: 'Pacifico', cursive;
            font-size: 4.5em; /* Large, inviting main title */
            color: #FF69B4; /* Lovely pink for celebration */
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.15); /* Soft text shadow */
        }

        h2 {
            font-family: 'Open Sans', sans-serif;
            font-size: 1.8em;
            color: #4682B4; /* Steel blue for secondary title */
            margin-top: 0;
            line-height: 1.4;
            font-weight: 400; /* Lighter weight for readability */
        }

        .highlight {
            font-weight: 700; /* Bold highlight for important names/dates */
            color: #6A5ACD; /* Slate blue highlight */
        }

        .details-section {
            margin: 2rem 0;
            line-height: 1.8; /* Improved line spacing for readability */
            font-size: 1.15em;
            color: #555;
        }

        .details-section p {
            margin: 0.8rem 0; /* Spacing between paragraphs */
        }

        .theme-section {
            margin: 2rem 0;
            font-size: 1.1em;
            color: #666;
            font-style: italic; /* Italic for thematic text */
        }

        .image-gallery {
            display: flex;
            justify-content: center;
            gap: 2rem; /* Increased gap for better spacing */
            margin: 2.5rem 0;
            flex-wrap: wrap; /* Allows images to wrap on smaller screens */
        }

        .image-gallery img {
            width: 100px;
            height: 100px;
            object-fit: cover; /* Ensures images cover their area without distortion */
            border-radius: 50%; /* Perfect circles */
            border: 5px solid #FFDAB9; /* Peach border for images */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15); /* Consistent shadow */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .image-gallery img:hover {
            transform: scale(1.15) rotate(5deg); /* Slightly larger and rotated on hover */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);\n        }

        .rsvp-section {
            margin-top: 2.5rem;
            padding-top: 1.5rem;
            border-top: 1px dashed #ddd; /* Dashed line separator */
            font-size: 1.1em;
            color: #555;
        }

        .whatsapp-link {
            display: inline-block; /* Allows side-by-side buttons */
            margin: 1rem 1rem; /* Spacing between buttons */
            padding: 0.8rem 1.8rem;
            background-color: #25D366; /* WhatsApp brand green */
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .whatsapp-link:hover {
            background-color: #1DA851; /* Darker green on hover */
            transform: translateY(-2px); /* Slight lift */
        }

        footer {
            margin-top: 3rem;
            font-size: 0.95em;
            color: #777;
            padding-top: 1.5rem;
            border-top: 1px solid #eee; /* Light solid line */
        }

        /* Music Controls */
        .music-controls {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 100; /* Ensure it's above content */
            transition: background-color 0.3s ease, transform 0.2s ease;
            opacity: 0; /* Hidden by default */
            visibility: hidden;
            transform: translateX(20px);
        }

        .invitation-container.show .music-controls {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
            transition: opacity 1s ease 1s, visibility 1s ease 1s, transform 1s ease 1s; /* Delay appearance */
        }

        .music-controls:hover {
            background-color: rgba(255, 255, 255, 1);
            transform: scale(1.05);
        }

        .music-controls i {
            font-size: 1.5em;
            color: #6A5ACD; /* Icon color */
        }

        /* Confetti Animation */
        .confetti-canvas {
            position: fixed; /* Covers the entire viewport */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Allows clicks to pass through */
            z-index: 9999; /* Below modal, above invitation */
        }

        /* Keyframe Animations */
        @keyframes fadeInScale {
            0% { opacity: 0; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .welcome-modal {
                font-size: 2rem;
            }
            .welcome-modal h2 {
                font-size: 1.5em;
            }
            .welcome-modal button {
                padding: 0.8rem 2rem;
                font-size: 1.2rem;
            }
            .invitation-container {
                padding: 30px;
                width: 95%;
            }
            h1 {
                font-size: 3.5em;
            }
            h2 {
                font-size: 1.4em;
            }
            .details-section, .theme-section, .rsvp-section {
                font-size: 1em;
            }
            .image-gallery {
                gap: 1.5rem;
            }
            .image-gallery img {
                width: 80px;
                height: 80px;
            }
            .whatsapp-link {
                margin: 0.8rem 0.8rem;
                padding: 0.7rem 1.5rem;
                font-size: 0.9em;
            }
            .music-controls {
                width: 40px;
                height: 40px;
                top: 15px;
                right: 15px;
            }
            .music-controls i {
                font-size: 1.2em;
            }
        }

        @media (max-width: 480px) {
            .welcome-modal {
                font-size: 1.8rem;
            }
            .welcome-modal h2 {
                font-size: 1.2em;
            }
            .welcome-modal button {
                padding: 0.7rem 1.8rem;
                font-size: 1.1rem;
            }
            .invitation-container {
                padding: 20px;
            }
            h1 {
                font-size: 2.8em;
            }
            h2 {
                font-size: 1.2em;
            }
            .details-section, .theme-section, .rsvp-section {
                font-size: 0.9em;
            }
            .image-gallery {
                gap: 1rem;
            }
            .image-gallery img {
                width: 70px;
                height: 70px;
            }
            .whatsapp-link {
                display: block; /* Stack buttons vertically */
                width: fit-content;\n                margin: 0.5rem auto;\n            }
            .music-controls {
                width: 35px;
                height: 35px;
                top: 10px;
                right: 10px;
            }
            .music-controls i {
                font-size: 1em;
            }
        }
    </style>
</head>
<body>

    <!-- Welcome Modal -->
    <div class="welcome-modal" id="welcomeModal">
        <div class="modal-content">
            <h2>Â¡Una dulce espera nos llena de alegrÃ­a!</h2>
            <p>Descubre los detalles de nuestro Baby Shower.</p>
            <button id="openInvitationBtn">Abrir InvitaciÃ³n</button>
        </div>
    </div>

    <!-- Main Invitation Content -->
    <div class="invitation-container" id="invitationContent" aria-hidden="true">
        <!-- Music Play/Pause Control -->
        <div class="music-controls" id="musicControls">
            <i class="fas fa-volume-up" id="musicIcon"></i>
        </div>

        <h1>Â¡Baby Shower!</h1>
        <h2>De parte de <span class="highlight">Pepe y Sindy</span></h2>

        <section class="details-section">
            <p>Â¡Esperamos con muchÃ­simo amor la llegada de nuestro bebÃ©!</p>
            <p>Te invitamos a compartir este dÃ­a tan especial con nosotros.</p>
            <p><strong>DÃ­a:</strong> <span class="highlight">2 de diciembre</span></p>
            <p><strong>Hora:</strong> <span class="highlight">2 de la tarde</span></p>
            <p><strong>Lugar:</strong> <span class="highlight">Gold Eventos</span></p>
        </section>

        <section class="theme-section">
            <p>Â¡La temÃ¡tica serÃ¡ sorpresa, pero habrÃ¡ mucha ternura y alegrÃ­a!</p>
        </section>

        <div class="image-gallery">
            <!-- Placeholder images for baby shower theme -->
            <img src="https://placehold.co/100x100/FFC0CB/FFF?text=ðŸ¼" alt="BiberÃ³n" />
            <img src="https://placehold.co/100x100/ADD8E6/FFF?text=ðŸ‘¶" alt="BebÃ©" />
            <img src="https://placehold.co/100x100/90EE90/FFF?text=ðŸ‘£" alt="Huellas de bebÃ©" />
        </div>

        <section class="rsvp-section">
            <p>Â¡Tu presencia es el mejor regalo!</p>
            <p>Por favor, confirma tu asistencia:</p>
            <!-- WhatsApp links for RSVP -->
            <a href="https://wa.me/528129407181" target="_blank" class="whatsapp-link">WhatsApp de Pepe</a>
            <a href="https://wa.me/528111661315" target="_blank" class="whatsapp-link">WhatsApp de Sindy</a>
        </section>

        <footer>
            <p>Â¡Gracias por ser parte de nuestra felicidad!</p>
        </footer>
    </div>

    <!-- Audio Element -->
    <!-- Preload="auto" helps in loading the audio early. Loop="true" plays it continuously. -->
    <audio id="bgAudio" src="https://cdn.pixabay.com/download/audio/2022/03/16/audio_bf0969a360.mp3?filename=summer-pop-11122.mp3" loop preload="auto"></audio>

    <!-- Confetti Canvas -->
    <canvas id="confettiCanvas" class="confetti-canvas"></canvas>

    <script>
        // --- DOM Elements ---
        const welcomeModal = document.getElementById('welcomeModal');
        const openInvitationBtn = document.getElementById('openInvitationBtn');
        const invitationContent = document.getElementById('invitationContent');
        const bgAudio = document.getElementById('bgAudio');
        const musicControls = document.getElementById('musicControls');
        const musicIcon = document.getElementById('musicIcon');
        const confettiCanvas = document.getElementById('confettiCanvas');
        const ctx = confettiCanvas.getContext('2d');

        // --- Confetti Variables ---
        let confetti = [];
        const confettiColors = ['#FFD700', '#FF69B4', '#87CEEB', '#98FB98', '#FFB6C1', '#BA55D3', '#FF4500']; // Gold, Pink, Light Blue, Pale Green, Light Pink, Medium Orchid, Orange Red
        const maxConfetti = 150; // Maximum number of confetti particles

        // --- Event Listener for "Abrir InvitaciÃ³n" button ---
        openInvitationBtn.addEventListener('click', () => {
            // Hide the welcome modal with a smooth transition
            welcomeModal.classList.add('hidden');

            // Show the main invitation content with a smooth transition
            invitationContent.classList.add('show');
            invitationContent.setAttribute('aria-hidden', 'false');

            // Attempt to play background music
            // Using a Promise to handle play() which returns a Promise for better error handling
            bgAudio.play().catch(error => {
                console.warn("Audio playback prevented by browser:", error);
                // If autoplay is blocked, the user can use the play/pause button
            });

            // Start the confetti animation
            initConfetti();
        });

        // --- Music Control Event Listener ---
        musicControls.addEventListener('click', () => {
            if (bgAudio.paused) {
                bgAudio.play();
                musicIcon.classList.remove('fa-volume-mute');
                musicIcon.classList.add('fa-volume-up');
            } else {
                bgAudio.pause();
                musicIcon.classList.remove('fa-volume-up');
                musicIcon.classList.add('fa-volume-mute');
            }
        });

        // --- Confetti Functions (using Canvas for better performance and control) ---

        /**
         * Resizes the confetti canvas to match the window dimensions.
         * This is crucial for responsive confetti.
         */
        function resizeConfettiCanvas() {
            confettiCanvas.width = window.innerWidth;
            confettiCanvas.height = window.innerHeight;
        }

        // Call resize on load and window resize
        window.addEventListener('resize', resizeConfettiCanvas);
        resizeConfettiCanvas(); // Initial call

        /**
         * Generates a random integer within a specified range.
         * @param {number} min - The minimum value (inclusive).
         * @param {number} max - The maximum value (inclusive).\n         * @returns {number} A random integer.
         */
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        /**
         * Represents a single confetti particle.
         * @class
         */
        class Confetto {
            constructor() {
                this.x = Math.random() * confettiCanvas.width; // Random X position
                this.y = Math.random() * -confettiCanvas.height; // Start above the canvas
                this.size = getRandomInt(4, 8); // Random size for variation
                this.color = confettiColors[getRandomInt(0, confettiColors.length - 1)]; // Random color
                this.speed = getRandomInt(2, 5); // Random falling speed
                this.rotation = Math.random() * 360; // Initial rotation
                this.rotationSpeed = Math.random() * 10 - 5; // Random rotation speed (-5 to 5)
            }

            /**
             * Updates the position and rotation of the confetti particle.
             */
            update() {
                this.y += this.speed;
                this.rotation += this.rotationSpeed;

                // Reset confetti if it falls off the screen
                if (this.y > confettiCanvas.height) {
                    this.y = Math.random() * -confettiCanvas.height;
                    this.x = Math.random() * confettiCanvas.width;
                }
            }

            /**
             * Draws the confetti particle on the canvas.
             */
            draw() {
                ctx.save(); // Save the current canvas state
                ctx.translate(this.x + this.size / 2, this.y + this.size / 2); // Move origin to center for rotation
                ctx.rotate(this.rotation * Math.PI / 180); // Rotate in radians
                ctx.fillStyle = this.color;
                ctx.fillRect(-this.size / 2, -this.size / 2, this.size, this.size); // Draw rectangle from new origin
                ctx.restore(); // Restore the canvas state
            }
        }

        /**
         * Initializes confetti particles.
         */
        function initConfetti() {
            confetti = []; // Clear existing confetti
            for (let i = 0; i < maxConfetti; i++) {
                confetti.push(new Confetto());
            }
            animateConfetti(); // Start the animation loop
        }

        /**
         * Animation loop for confetti.
         */
        function animateConfetti() {
            ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height); // Clear the canvas

            confetti.forEach(particle => {
                particle.update();
                particle.draw();
            });

            requestAnimationFrame(animateConfetti); // Request next frame
        }

        // --- DOMContentLoaded Event ---
        // This ensures the DOM is fully loaded before trying to access elements.
        document.addEventListener('DOMContentLoaded', () => {
            // Optional: You could add a slight delay to modal display for a smoother load.
            // setTimeout(() => { welcomeModal.style.opacity = 1; }, 100);\n        });
    </script>
</body>
</html>